import{r as n,j as e,g as B,a6 as k,aD as O,U as V,T as H,a7 as J,q as L,t as K,v as Q,w as Y,x as h,n as Z,A as G,i,V as o,ar as M,k as N,Q as d,Y as x,a3 as X,a4 as _,a5 as j,aa as g,W as m,C as ee,b as w,a8 as se,f as ae,ag as te}from"./index-ChsUsUzn.js";import{C as re}from"./chart-line-CqXOcTrx.js";import{C as le}from"./chart-pie-BBZuVBDM.js";function oe(){const[C,S]=n.useState("month"),[y,T]=n.useState(0),[l,P]=n.useState({totalProjects:156,activeProjects:23,completedProjects:133,averageCompletionTime:14.5,revenue:245e4,profitMargin:18.5}),[r,D]=n.useState({equipmentUtilization:87,fuelEfficiency:92,safetyIncidents:2,teamProductivity:94,customerSatisfaction:96,materialWaste:3.2}),$=n.useMemo(()=>[{id:"revenue",title:"Monthly Revenue",value:l.revenue,unit:"$",change:12.5,changeType:"increase",target:25e5,icon:e.jsx(B,{className:"h-4 w-4"}),color:"text-green-600"},{id:"projects",title:"Active Projects",value:l.activeProjects,unit:"",change:8.3,changeType:"increase",target:25,icon:e.jsx(k,{className:"h-4 w-4"}),color:"text-blue-600"},{id:"utilization",title:"Equipment Utilization",value:r.equipmentUtilization,unit:"%",change:5.2,changeType:"increase",target:90,icon:e.jsx(O,{className:"h-4 w-4"}),color:"text-purple-600"},{id:"satisfaction",title:"Customer Satisfaction",value:r.customerSatisfaction,unit:"%",change:2.1,changeType:"increase",target:95,icon:e.jsx(V,{className:"h-4 w-4"}),color:"text-orange-600"},{id:"safety",title:"Safety Score",value:100-r.safetyIncidents*10,unit:"/100",change:-5,changeType:"decrease",target:100,icon:e.jsx(H,{className:"h-4 w-4"}),color:"text-red-600"},{id:"efficiency",title:"Fuel Efficiency",value:r.fuelEfficiency,unit:"%",change:3.8,changeType:"increase",target:95,icon:e.jsx(J,{className:"h-4 w-4"}),color:"text-yellow-600"}],[l,r]),R=n.useMemo(()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((a,u)=>({label:a,value:Math.round(2e5+Math.random()*3e5+u*15e3),change:Math.round((Math.random()-.5)*20)})),[y]),I=n.useMemo(()=>[{label:"Completed",value:l.completedProjects,category:"success"},{label:"In Progress",value:l.activeProjects,category:"warning"},{label:"Planning",value:8,category:"info"},{label:"On Hold",value:3,category:"danger"}],[l]),U=n.useMemo(()=>[{label:"Pavers",value:87,category:"operational"},{label:"Rollers",value:92,category:"operational"},{label:"Trucks",value:78,category:"operational"},{label:"Mixers",value:95,category:"operational"},{label:"Compactors",value:83,category:"maintenance"}],[]),W=n.useMemo(()=>["Week 1","Week 2","Week 3","Week 4"].map((a,u)=>({label:a,value:Math.round(85+Math.random()*15),change:Math.round((Math.random()-.5)*10)})),[y]);n.useEffect(()=>{const s=setInterval(()=>{P(a=>({...a,revenue:a.revenue+Math.round((Math.random()-.5)*1e3),activeProjects:Math.max(20,Math.min(30,a.activeProjects+Math.round((Math.random()-.5)*2)))})),D(a=>({...a,equipmentUtilization:Math.max(80,Math.min(95,a.equipmentUtilization+Math.round((Math.random()-.5)*2))),customerSatisfaction:Math.max(90,Math.min(100,a.customerSatisfaction+Math.round(Math.random()-.5)))})),T(a=>a+1)},3e4);return()=>clearInterval(s)},[]);const v=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s),b=s=>new Intl.NumberFormat("en-US").format(s),A=s=>s==="increase"?e.jsx(w,{className:"h-3 w-3"}):e.jsx(te,{className:"h-3 w-3"}),E=s=>s==="increase"?"text-green-600":"text-red-600",f=({data:s,height:a=200})=>{const u=Math.max(...s.map(t=>t.value));return e.jsx("div",{className:"flex items-end space-x-2",style:{height:a},children:s.map((t,c)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx("div",{className:"w-full bg-primary/80 rounded-t-sm transition-all duration-300 hover:bg-primary",style:{height:`${t.value/u*(a-40)}px`,minHeight:"4px"}}),e.jsx("div",{className:"text-xs text-muted-foreground mt-2 text-center",children:t.label}),e.jsx("div",{className:"text-xs font-semibold",children:typeof t.value=="number"&&t.value>1e3?b(t.value):t.value})]},c))})},q=({data:s})=>{const a=s.reduce((t,c)=>t+c.value,0);let u=0;return e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"relative w-32 h-32",children:e.jsx("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 100 100",children:s.map((t,c)=>{const p=t.value/a*100,z=`${p} ${100-p}`,F=-u;return u+=p,e.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:`hsl(${c*72}, 70%, 50%)`,strokeWidth:"8",strokeDasharray:z,strokeDashoffset:F,className:"transition-all duration-300"},c)})})}),e.jsx("div",{className:"flex-1 space-y-2",children:s.map((t,c)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:`hsl(${c*72}, 70%, 50%)`}}),e.jsx("span",{className:"text-sm",children:t.label}),e.jsx("span",{className:"text-sm font-semibold ml-auto",children:t.value})]},c))})]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Advanced Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Real-time insights and analytics"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(L,{value:C,onValueChange:s=>S(s),children:[e.jsx(K,{className:"w-[140px]",children:e.jsx(Q,{})}),e.jsxs(Y,{children:[e.jsx(h,{value:"week",children:"This Week"}),e.jsx(h,{value:"month",children:"This Month"}),e.jsx(h,{value:"quarter",children:"This Quarter"}),e.jsx(h,{value:"year",children:"This Year"})]})]}),e.jsxs(Z,{variant:"outline",size:"sm",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Live Data"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(s=>e.jsxs(i,{className:"relative overflow-hidden",children:[e.jsx(o,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:M("p-2 rounded-lg bg-muted",s.color),children:s.icon}),e.jsxs(N,{variant:"outline",className:E(s.changeType),children:[A(s.changeType),Math.abs(s.change),"%"]})]})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground",children:s.title}),e.jsx("div",{className:"flex items-baseline space-x-1",children:e.jsx("span",{className:"text-2xl font-bold",children:s.unit==="$"?v(s.value):s.unit==="%"?`${s.value}${s.unit}`:`${b(s.value)}${s.unit}`})}),s.target&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("span",{children:["Target: ",s.unit==="$"?v(s.target):`${s.target}${s.unit}`]}),e.jsxs("span",{children:[Math.round(s.value/s.target*100),"%"]})]}),e.jsx(x,{value:s.value/s.target*100,className:"h-1"})]})]})})]},s.id))}),e.jsxs(X,{defaultValue:"revenue",className:"w-full",children:[e.jsxs(_,{className:"grid w-full grid-cols-4",children:[e.jsx(j,{value:"revenue",children:"Revenue"}),e.jsx(j,{value:"projects",children:"Projects"}),e.jsx(j,{value:"operations",children:"Operations"}),e.jsx(j,{value:"performance",children:"Performance"})]}),e.jsx(g,{value:"revenue",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center",children:[e.jsx(re,{className:"h-5 w-5 mr-2"}),"Monthly Revenue Trend"]})}),e.jsx(d,{children:e.jsx(f,{data:R,height:300})})]}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(m,{children:"Revenue Breakdown"})}),e.jsx(d,{className:"space-y-4",children:[{name:"Asphalt Paving",amount:12e5,percentage:49},{name:"Sealcoating",amount:65e4,percentage:27},{name:"Repair & Maintenance",amount:4e5,percentage:16},{name:"Consultation",amount:2e5,percentage:8}].map((s,a)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:s.name}),e.jsx("span",{className:"font-semibold",children:v(s.amount)})]}),e.jsx(x,{value:s.percentage,className:"h-2"})]},a))})]})]})}),e.jsx(g,{value:"projects",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center",children:[e.jsx(le,{className:"h-5 w-5 mr-2"}),"Project Status Distribution"]})}),e.jsx(d,{children:e.jsx(q,{data:I})})]}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(m,{children:"Project Timeline"})}),e.jsx(d,{className:"space-y-4",children:[{name:"Highway 101 Resurfacing",progress:85,deadline:"2024-02-15",status:"on-track"},{name:"Shopping Center Parking",progress:60,deadline:"2024-02-28",status:"at-risk"},{name:"School District Repairs",progress:95,deadline:"2024-02-10",status:"ahead"},{name:"Industrial Complex",progress:30,deadline:"2024-03-15",status:"on-track"}].map((s,a)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-sm",children:s.name}),e.jsxs(N,{variant:s.status==="ahead"?"default":s.status==="at-risk"?"destructive":"secondary",children:[s.progress,"%"]})]}),e.jsx(x,{value:s.progress,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Due: ",s.deadline]}),e.jsx("span",{className:M(s.status==="ahead"&&"text-green-600",s.status==="at-risk"&&"text-red-600"),children:s.status.replace("-"," ")})]})]},a))})]})]})}),e.jsx(g,{value:"operations",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center",children:[e.jsx(ee,{className:"h-5 w-5 mr-2"}),"Equipment Utilization"]})}),e.jsx(d,{children:e.jsx(f,{data:U,height:250})})]}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(m,{children:"Operational Metrics"})}),e.jsx(d,{className:"space-y-4",children:[{metric:"Fuel Efficiency",value:r.fuelEfficiency,unit:"%",target:95,color:"bg-green-500"},{metric:"Material Waste",value:r.materialWaste,unit:"%",target:5,color:"bg-red-500",inverse:!0},{metric:"Team Productivity",value:r.teamProductivity,unit:"%",target:90,color:"bg-blue-500"},{metric:"Safety Score",value:100-r.safetyIncidents*10,unit:"/100",target:100,color:"bg-yellow-500"}].map((s,a)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:s.metric}),e.jsxs("span",{className:"font-semibold",children:[s.value,s.unit]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{value:s.inverse?(s.target-s.value)/s.target*100:s.value/s.target*100,className:"flex-1 h-2"}),e.jsx(N,{variant:"outline",className:"text-xs",children:s.inverse?`${Math.round((s.target-s.value)/s.target*100)}%`:`${Math.round(s.value/s.target*100)}%`})]})]},a))})]})]})}),e.jsx(g,{value:"performance",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center",children:[e.jsx(w,{className:"h-5 w-5 mr-2"}),"Weekly Productivity"]})}),e.jsx(d,{children:e.jsx(f,{data:W,height:250})})]}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(m,{children:"Performance Indicators"})}),e.jsxs(d,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-2 bg-green-100 rounded-full",children:e.jsx(se,{className:"h-8 w-8 text-green-600"})}),e.jsx("div",{className:"text-2xl font-bold",children:l.completedProjects}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed Projects"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-2 bg-blue-100 rounded-full",children:e.jsx(ae,{className:"h-8 w-8 text-blue-600"})}),e.jsx("div",{className:"text-2xl font-bold",children:l.averageCompletionTime}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg. Completion (days)"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Customer Satisfaction"}),e.jsxs("span",{className:"font-semibold",children:[r.customerSatisfaction,"%"]})]}),e.jsx(x,{value:r.customerSatisfaction,className:"h-2"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Profit Margin"}),e.jsxs("span",{className:"font-semibold",children:[l.profitMargin,"%"]})]}),e.jsx(x,{value:l.profitMargin,className:"h-2"})]})]})]})]})})]})]})}export{oe as AdvancedDashboard,oe as default};
