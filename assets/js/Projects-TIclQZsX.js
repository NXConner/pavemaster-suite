import{c as z,aA as J,r,j as e,z as U,E as W,n as u,p as S,G as Z,H as $,I as q,J as i,q as g,t as p,v,w as N,x as t,i as d,Q as o,aN as G,f as Q,a8 as Y,g as D,V as K,W as X,k as P,U as ee,M as se,a6 as ae,Y as te,aL as le}from"./index-ChsUsUzn.js";import{T as b}from"./textarea-Cc706nIt.js";import{S as ne}from"./square-pen-BhNbn2-E.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=z("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);function xe(){const{toast:w}=J(),[m,f]=r.useState([]),[y,T]=r.useState([]),[re,A]=r.useState(null),[k,j]=r.useState(!1),[ie,ce]=r.useState(!1),[c,L]=r.useState(""),[x,F]=r.useState("all"),[h,I]=r.useState("all"),[l,n]=r.useState({name:"",description:"",status:"planning",priority:"medium",clientName:"",clientContact:"",location:"",startDate:"",endDate:"",estimatedCost:0,projectType:"resurfacing",area:0,materials:{},milestones:[],notes:"",assignedCrew:[]});r.useEffect(()=>{E()},[]),r.useEffect(()=>{M()},[m,c,x,h]);const E=async()=>{f([{id:"1",name:"First Baptist Church Parking Lot",description:"Complete resurfacing and striping of main parking area",status:"active",priority:"high",clientName:"First Baptist Church",clientContact:"Pastor Smith - (555) 123-4567",location:"123 Church St, Richmond, VA",coordinates:{lat:37.5407,lng:-77.436},startDate:"2024-02-01",endDate:"2024-02-15",estimatedCost:45e3,actualCost:42e3,progress:75,assignedCrew:["John Smith","Mike Johnson","Sarah Davis"],projectType:"resurfacing",area:12500,materials:{asphalt:25.5,sealcoat:0,striping:850},milestones:[{id:"1",name:"Site Preparation",dueDate:"2024-02-03",completed:!0,completedDate:"2024-02-02"},{id:"2",name:"Asphalt Installation",dueDate:"2024-02-10",completed:!0,completedDate:"2024-02-09"},{id:"3",name:"Line Striping",dueDate:"2024-02-14",completed:!1},{id:"4",name:"Final Inspection",dueDate:"2024-02-15",completed:!1}],notes:"Client wants extra wide handicap spaces. Weather dependent completion.",createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-02-08T14:30:00Z"},{id:"2",name:"Grace Methodist Sealcoating",description:"Sealcoating and crack repair for existing parking lot",status:"planning",priority:"medium",clientName:"Grace Methodist Church",clientContact:"Rev. Johnson - (555) 234-5678",location:"456 Methodist Ave, Richmond, VA",startDate:"2024-02-20",endDate:"2024-02-22",estimatedCost:8500,actualCost:0,progress:15,assignedCrew:["Tom Wilson"],projectType:"sealcoating",area:8e3,materials:{sealcoat:8,striping:200},milestones:[{id:"1",name:"Site Assessment",dueDate:"2024-02-18",completed:!1},{id:"2",name:"Crack Repair",dueDate:"2024-02-20",completed:!1},{id:"3",name:"Sealcoat Application",dueDate:"2024-02-21",completed:!1}],notes:"Small budget project. Weather permitting.",createdAt:"2024-01-20T09:00:00Z",updatedAt:"2024-01-22T16:45:00Z"}])},M=()=>{let s=m;c&&(s=s.filter(a=>a.name.toLowerCase().includes(c.toLowerCase())||a.clientName.toLowerCase().includes(c.toLowerCase())||a.location.toLowerCase().includes(c.toLowerCase()))),x!=="all"&&(s=s.filter(a=>a.status===x)),h!=="all"&&(s=s.filter(a=>a.priority===h)),T(s)},O=async()=>{const s={...l,id:Date.now().toString(),progress:0,actualCost:0,assignedCrew:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};f(a=>[...a,s]),n({name:"",description:"",status:"planning",priority:"medium",clientName:"",clientContact:"",location:"",startDate:"",endDate:"",estimatedCost:0,projectType:"resurfacing",area:0,materials:{},milestones:[],notes:"",assignedCrew:[]}),j(!1),w({title:"Project Created",description:`${s.name} has been created successfully`})},V=async s=>{f(a=>a.filter(_=>_.id!==s)),w({title:"Project Deleted",description:"Project has been removed from the system"})},H=s=>{switch(s){case"planning":return"bg-blue-500";case"active":return"bg-green-500";case"on_hold":return"bg-yellow-500";case"completed":return"bg-gray-500";case"cancelled":return"bg-red-500";default:return"bg-gray-500"}},R=s=>{switch(s){case"low":return"text-green-600";case"medium":return"text-yellow-600";case"high":return"text-orange-600";case"urgent":return"text-red-600";default:return"text-gray-600"}},B=s=>{switch(s){case"new_construction":return"🏗️";case"resurfacing":return"🛣️";case"sealcoating":return"🖤";case"striping":return"🎨";case"repairs":return"🔧";default:return"📋"}};return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Project Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage asphalt paving projects from planning to completion"})]})]}),e.jsxs(U,{open:k,onOpenChange:j,children:[e.jsx(W,{asChild:!0,children:e.jsxs(u,{children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"New Project"]})}),e.jsxs(Z,{className:"max-w-2xl",children:[e.jsx($,{children:e.jsx(q,{children:"Create New Project"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Project Name"}),e.jsx(i,{value:l.name,onChange:s=>n(a=>({...a,name:s.target.value})),placeholder:"Enter project name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Client Name"}),e.jsx(i,{value:l.clientName,onChange:s=>n(a=>({...a,clientName:s.target.value})),placeholder:"Enter client name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(b,{value:l.description,onChange:s=>n(a=>({...a,description:s.target.value})),placeholder:"Project description"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Project Type"}),e.jsxs(g,{value:l.projectType,onValueChange:s=>n(a=>({...a,projectType:s})),children:[e.jsx(p,{children:e.jsx(v,{})}),e.jsxs(N,{children:[e.jsx(t,{value:"new_construction",children:"New Construction"}),e.jsx(t,{value:"resurfacing",children:"Resurfacing"}),e.jsx(t,{value:"sealcoating",children:"Sealcoating"}),e.jsx(t,{value:"striping",children:"Line Striping"}),e.jsx(t,{value:"repairs",children:"Repairs"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Priority"}),e.jsxs(g,{value:l.priority,onValueChange:s=>n(a=>({...a,priority:s})),children:[e.jsx(p,{children:e.jsx(v,{})}),e.jsxs(N,{children:[e.jsx(t,{value:"low",children:"Low"}),e.jsx(t,{value:"medium",children:"Medium"}),e.jsx(t,{value:"high",children:"High"}),e.jsx(t,{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Area (sq ft)"}),e.jsx(i,{type:"number",value:l.area,onChange:s=>n(a=>({...a,area:Number(s.target.value)})),placeholder:"0"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),e.jsx(i,{type:"date",value:l.startDate,onChange:s=>n(a=>({...a,startDate:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"End Date"}),e.jsx(i,{type:"date",value:l.endDate,onChange:s=>n(a=>({...a,endDate:s.target.value}))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Location"}),e.jsx(i,{value:l.location,onChange:s=>n(a=>({...a,location:s.target.value})),placeholder:"Project location"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Estimated Cost"}),e.jsx(i,{type:"number",value:l.estimatedCost,onChange:s=>n(a=>({...a,estimatedCost:Number(s.target.value)})),placeholder:"0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Client Contact"}),e.jsx(i,{value:l.clientContact,onChange:s=>n(a=>({...a,clientContact:s.target.value})),placeholder:"Contact information"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Notes"}),e.jsx(b,{value:l.notes,onChange:s=>n(a=>({...a,notes:s.target.value})),placeholder:"Additional notes"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(u,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsx(u,{onClick:O,children:"Create Project"})]})]})]})]})]}),e.jsx(d,{children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(i,{placeholder:"Search projects...",value:c,onChange:s=>L(s.target.value),className:"pl-10"})]})}),e.jsxs(g,{value:x,onValueChange:F,children:[e.jsx(p,{className:"w-[150px]",children:e.jsx(v,{placeholder:"Status"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All Status"}),e.jsx(t,{value:"planning",children:"Planning"}),e.jsx(t,{value:"active",children:"Active"}),e.jsx(t,{value:"on_hold",children:"On Hold"}),e.jsx(t,{value:"completed",children:"Completed"}),e.jsx(t,{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs(g,{value:h,onValueChange:I,children:[e.jsx(p,{className:"w-[150px]",children:e.jsx(v,{placeholder:"Priority"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All Priority"}),e.jsx(t,{value:"low",children:"Low"}),e.jsx(t,{value:"medium",children:"Medium"}),e.jsx(t,{value:"high",children:"High"}),e.jsx(t,{value:"urgent",children:"Urgent"})]})]})]})})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(d,{children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:m.filter(s=>s.status==="active").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})})}),e.jsx(d,{children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:m.filter(s=>s.status==="planning").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"In Planning"})]})]})})}),e.jsx(d,{children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:m.filter(s=>s.status==="completed").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed"})]})]})})}),e.jsx(d,{children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",m.reduce((s,a)=>s+a.estimatedCost,0).toLocaleString()]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Value"})]})]})})})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:y.map(s=>e.jsxs(d,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsx(K,{children:e.jsxs(X,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:B(s.projectType)}),e.jsx("span",{className:"truncate",children:s.name})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${H(s.status)}`}),e.jsx(P,{variant:"outline",className:R(s.priority),children:s.priority})]})]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:s.description}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"truncate",children:s.clientName})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"truncate",children:s.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[new Date(s.startDate).toLocaleDateString()," - ",new Date(s.endDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["$",s.estimatedCost.toLocaleString()]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progress,"%"]})]}),e.jsx(te,{value:s.progress,className:"h-2"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(P,{variant:"outline",className:"capitalize",children:s.status.replace("_"," ")}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>A(s),children:e.jsx(ne,{className:"h-4 w-4"})}),e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>V(s.id),children:e.jsx(le,{className:"h-4 w-4"})})]})]})]})]},s.id))}),y.length===0&&e.jsx(d,{children:e.jsxs(o,{className:"text-center py-12",children:[e.jsx(C,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:c||x!=="all"||h!=="all"?"No projects match your current filters":"Create your first project to get started"}),!c&&x==="all"&&h==="all"&&e.jsxs(u,{onClick:()=>j(!0),children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Create Project"]})]})})]})})}export{xe as default};
