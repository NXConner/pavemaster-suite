import{c as ee,aA as se,r as l,j as e,U as w,z as ae,E as te,n as x,p as y,G as ie,H as le,I as re,J as h,q as k,t as S,v as b,w as C,x as i,k as u,i as c,Q as d,aN as ne,f as A,aO as ce,g as de,a3 as oe,a4 as me,a5 as g,aa as f,aP as I,aQ as L,P as xe,M as he,F as ue,Y as H,aL as je,V as T,W as E,a8 as pe}from"./index-ChsUsUzn.js";import{M as ve}from"./mail-BDg3mxzI.js";import{S as ge}from"./square-pen-BhNbn2-E.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=ee("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);function Te(){const{toast:D}=se(),[r,N]=l.useState([]),[P,F]=l.useState([]),[q,W]=l.useState([]),[Ne,we]=l.useState(null),[m,V]=l.useState(""),[j,Q]=l.useState("all"),[p,$]=l.useState("all"),[z,v]=l.useState(!1),[ye,ke]=l.useState(!1),[B,J]=l.useState("overview"),[t,n]=l.useState({firstName:"",lastName:"",email:"",phone:"",position:"",department:"operations",hourlyRate:0,skills:[],newSkill:""});l.useEffect(()=>{G(),U()},[]),l.useEffect(()=>{_()},[r,m,j,p]);const G=async()=>{N([{id:"1",employeeNumber:"EMP001",firstName:"John",lastName:"Smith",email:"john.smith@company.com",phone:"(555) 123-4567",position:"Crew Leader",department:"operations",hireDate:"2022-03-15",hourlyRate:28.5,status:"active",skills:["Equipment Operation","Team Leadership","Safety Management","Quality Control"],certifications:[{name:"CDL Class A",issuedDate:"2022-01-10",expiryDate:"2026-01-10",issuer:"Virginia DMV"},{name:"OSHA 30-Hour",issuedDate:"2022-02-15",expiryDate:"2025-02-15",issuer:"OSHA Training Institute"}],performance:{rating:4.8,lastReview:"2024-01-15",goals:["Complete foreman training","Mentor new employees","Reduce equipment downtime"]},currentProject:"First Baptist Church Parking Lot",location:"Field - Site 1",emergencyContact:{name:"Jane Smith",phone:"(555) 123-4568",relationship:"Spouse"},timeTracking:{hoursThisWeek:42,hoursThisMonth:168,overtimeHours:8}},{id:"2",employeeNumber:"EMP002",firstName:"Mike",lastName:"Johnson",email:"mike.johnson@company.com",phone:"(555) 234-5678",position:"Equipment Operator",department:"operations",hireDate:"2021-08-20",hourlyRate:24,status:"active",skills:["Paver Operation","Roller Operation","Equipment Maintenance","Material Handling"],certifications:[{name:"Equipment Operator License",issuedDate:"2021-07-01",expiryDate:"2025-07-01",issuer:"Virginia Department of Professional Regulation"}],performance:{rating:4.6,lastReview:"2024-01-20",goals:["Master new paver technology","Reduce fuel consumption","Zero safety incidents"]},currentProject:"Grace Methodist Sealcoating",location:"Equipment Yard",emergencyContact:{name:"Robert Johnson",phone:"(555) 234-5679",relationship:"Father"},timeTracking:{hoursThisWeek:40,hoursThisMonth:160,overtimeHours:0}},{id:"3",employeeNumber:"EMP003",firstName:"Sarah",lastName:"Davis",email:"sarah.davis@company.com",phone:"(555) 345-6789",position:"Quality Inspector",department:"quality",hireDate:"2023-01-10",hourlyRate:26,status:"active",skills:["Quality Inspection","Testing Procedures","Documentation","Compliance"],certifications:[{name:"Asphalt Quality Inspector",issuedDate:"2023-02-01",expiryDate:"2026-02-01",issuer:"Asphalt Institute"}],performance:{rating:4.9,lastReview:"2024-01-10",goals:["Implement new testing protocols","Train field crews","Digital transformation"]},location:"Office",emergencyContact:{name:"Michael Davis",phone:"(555) 345-6790",relationship:"Brother"},timeTracking:{hoursThisWeek:38,hoursThisMonth:152,overtimeHours:0}}])},U=async()=>{const s=[{id:"1",employeeId:"1",projectId:"proj-1",projectName:"First Baptist Church Parking Lot",date:new Date().toISOString().split("T")[0],clockIn:"07:00",clockOut:"16:30",totalHours:8.5,breakTime:1,overtime:!1,notes:"Regular workday, completed site preparation"},{id:"2",employeeId:"2",projectId:"proj-2",projectName:"Grace Methodist Sealcoating",date:new Date().toISOString().split("T")[0],clockIn:"07:30",clockOut:"16:00",totalHours:8,breakTime:.5,overtime:!1,notes:"Equipment maintenance and material prep"}];W(s)},_=()=>{let s=r;m&&(s=s.filter(a=>`${a.firstName} ${a.lastName}`.toLowerCase().includes(m.toLowerCase())||a.position.toLowerCase().includes(m.toLowerCase())||a.employeeNumber.toLowerCase().includes(m.toLowerCase()))),j!=="all"&&(s=s.filter(a=>a.status===j)),p!=="all"&&(s=s.filter(a=>a.department===p)),F(s)},Y=async()=>{const s={id:Date.now().toString(),employeeNumber:`EMP${String(r.length+1).padStart(3,"0")}`,firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone,position:t.position,department:t.department,hireDate:new Date().toISOString().split("T")[0],hourlyRate:t.hourlyRate,status:"active",skills:t.skills,certifications:[],performance:{rating:0,lastReview:"",goals:[]},location:"Office",emergencyContact:{name:"",phone:"",relationship:""},timeTracking:{hoursThisWeek:0,hoursThisMonth:0,overtimeHours:0}};N(a=>[...a,s]),v(!1),n({firstName:"",lastName:"",email:"",phone:"",position:"",department:"operations",hourlyRate:0,skills:[],newSkill:""}),D({title:"Employee Added",description:`${s.firstName} ${s.lastName} has been added to the team`})},K=s=>{N(a=>a.filter(o=>o.id!==s)),D({title:"Employee Removed",description:"Employee has been removed from the team"})},R=()=>{t.newSkill.trim()&&!t.skills.includes(t.newSkill.trim())&&n(s=>({...s,skills:[...s.skills,s.newSkill.trim()],newSkill:""}))},Z=s=>{n(a=>({...a,skills:a.skills.filter(o=>o!==s)}))},X=s=>{switch(s){case"active":return"text-green-600";case"inactive":return"text-gray-600";case"on_leave":return"text-yellow-600";case"terminated":return"text-red-600";default:return"text-gray-600"}},M=s=>s>=4.5?"text-green-600":s>=4?"text-blue-600":s>=3.5?"text-yellow-600":"text-red-600",O=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s);return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Team Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage employees, track performance, and handle time tracking"})]})]}),e.jsxs(ae,{open:z,onOpenChange:v,children:[e.jsx(te,{asChild:!0,children:e.jsxs(x,{children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Add Employee"]})}),e.jsxs(ie,{className:"max-w-2xl",children:[e.jsx(le,{children:e.jsx(re,{children:"Add New Employee"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"First Name"}),e.jsx(h,{value:t.firstName,onChange:s=>n(a=>({...a,firstName:s.target.value})),placeholder:"Enter first name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Last Name"}),e.jsx(h,{value:t.lastName,onChange:s=>n(a=>({...a,lastName:s.target.value})),placeholder:"Enter last name"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx(h,{type:"email",value:t.email,onChange:s=>n(a=>({...a,email:s.target.value})),placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Phone"}),e.jsx(h,{value:t.phone,onChange:s=>n(a=>({...a,phone:s.target.value})),placeholder:"Enter phone number"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Position"}),e.jsx(h,{value:t.position,onChange:s=>n(a=>({...a,position:s.target.value})),placeholder:"Enter position"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Department"}),e.jsxs(k,{value:t.department,onValueChange:s=>n(a=>({...a,department:s})),children:[e.jsx(S,{children:e.jsx(b,{})}),e.jsxs(C,{children:[e.jsx(i,{value:"operations",children:"Operations"}),e.jsx(i,{value:"quality",children:"Quality"}),e.jsx(i,{value:"administration",children:"Administration"}),e.jsx(i,{value:"maintenance",children:"Maintenance"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Hourly Rate"}),e.jsx(h,{type:"number",step:"0.01",value:t.hourlyRate,onChange:s=>n(a=>({...a,hourlyRate:Number(s.target.value)})),placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Skills"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(h,{value:t.newSkill,onChange:s=>n(a=>({...a,newSkill:s.target.value})),placeholder:"Add skill...",onKeyPress:s=>s.key==="Enter"&&R()}),e.jsx(x,{type:"button",onClick:R,size:"sm",children:e.jsx(y,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.skills.map(s=>e.jsxs(u,{variant:"secondary",className:"cursor-pointer",onClick:()=>Z(s),children:[s," ×"]},s))})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(x,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsx(x,{onClick:Y,children:"Add Employee"})]})]})]})]})]}),e.jsx(c,{children:e.jsx(d,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(h,{placeholder:"Search employees...",value:m,onChange:s=>V(s.target.value),className:"pl-10"})]})}),e.jsxs(k,{value:j,onValueChange:Q,children:[e.jsx(S,{className:"w-[150px]",children:e.jsx(b,{placeholder:"Status"})}),e.jsxs(C,{children:[e.jsx(i,{value:"all",children:"All Status"}),e.jsx(i,{value:"active",children:"Active"}),e.jsx(i,{value:"inactive",children:"Inactive"}),e.jsx(i,{value:"on_leave",children:"On Leave"}),e.jsx(i,{value:"terminated",children:"Terminated"})]})]}),e.jsxs(k,{value:p,onValueChange:$,children:[e.jsx(S,{className:"w-[150px]",children:e.jsx(b,{placeholder:"Department"})}),e.jsxs(C,{children:[e.jsx(i,{value:"all",children:"All Departments"}),e.jsx(i,{value:"operations",children:"Operations"}),e.jsx(i,{value:"quality",children:"Quality"}),e.jsx(i,{value:"administration",children:"Administration"}),e.jsx(i,{value:"maintenance",children:"Maintenance"})]})]})]})})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(c,{children:e.jsx(d,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.filter(s=>s.status==="active").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Employees"})]})]})})}),e.jsx(c,{children:e.jsx(d,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.reduce((s,a)=>s+a.timeTracking.hoursThisWeek,0)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Hours This Week"})]})]})})}),e.jsx(c,{children:e.jsx(d,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:(r.reduce((s,a)=>s+a.performance.rating,0)/r.length).toFixed(1)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Performance"})]})]})})}),e.jsx(c,{children:e.jsx(d,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:O(r.reduce((s,a)=>s+a.hourlyRate*a.timeTracking.hoursThisWeek,0))}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Weekly Payroll"})]})]})})})]}),e.jsxs(oe,{value:B,onValueChange:J,className:"space-y-6",children:[e.jsxs(me,{className:"grid w-full grid-cols-4",children:[e.jsx(g,{value:"overview",children:"Team Overview"}),e.jsx(g,{value:"timesheets",children:"Time Tracking"}),e.jsx(g,{value:"performance",children:"Performance"}),e.jsx(g,{value:"skills",children:"Skills & Training"})]}),e.jsx(f,{value:"overview",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:P.map(s=>e.jsx(c,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(I,{className:"h-12 w-12",children:e.jsxs(L,{children:[s.firstName[0],s.lastName[0]]})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg",children:[s.firstName," ",s.lastName]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.position}),e.jsx(u,{variant:"outline",className:X(s.status),children:s.status.replace("_"," ")})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{children:s.phone})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{children:s.location})]}),s.currentProject&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"truncate",children:s.currentProject})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{children:"Performance"}),e.jsxs("span",{className:`font-medium ${M(s.performance.rating)}`,children:[s.performance.rating,"/5.0"]})]}),e.jsx(H,{value:s.performance.rating*20,className:"h-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Hours/Week"}),e.jsx("div",{className:"font-medium",children:s.timeTracking.hoursThisWeek})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Hourly Rate"}),e.jsx("div",{className:"font-medium",children:O(s.hourlyRate)})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.skills.slice(0,3).map(a=>e.jsx(u,{variant:"secondary",className:"text-xs",children:a},a)),s.skills.length>3&&e.jsxs(u,{variant:"secondary",className:"text-xs",children:["+",s.skills.length-3]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(x,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(ge,{className:"h-3 w-3 mr-1"}),"Edit"]}),e.jsx(x,{variant:"outline",size:"sm",children:e.jsx(fe,{className:"h-3 w-3"})}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>K(s.id),children:e.jsx(je,{className:"h-3 w-3"})})]})]})]})})},s.id))})}),e.jsx(f,{value:"timesheets",className:"space-y-6",children:e.jsxs(c,{children:[e.jsx(T,{children:e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Time Tracking"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:q.map(s=>{const a=r.find(o=>o.id===s.employeeId);return e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-md",children:[e.jsx(I,{className:"h-10 w-10",children:e.jsxs(L,{children:[a?.firstName[0],a?.lastName[0]]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium",children:[a?.firstName," ",a?.lastName]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.projectName," • ",new Date(s.date).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:[s.totalHours," hours"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.clockIn," - ",s.clockOut||"Active"]})]}),s.overtime&&e.jsx(u,{variant:"secondary",children:"Overtime"})]},s.id)})})})]})}),e.jsx(f,{value:"performance",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:r.map(s=>e.jsxs(c,{children:[e.jsx(T,{children:e.jsxs(E,{className:"flex items-center justify-between",children:[e.jsxs("span",{children:[s.firstName," ",s.lastName]}),e.jsxs("div",{className:`text-lg font-bold ${M(s.performance.rating)}`,children:[s.performance.rating,"/5.0"]})]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm",children:"Performance Rating"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Last review: ",s.performance.lastReview?new Date(s.performance.lastReview).toLocaleDateString():"Not reviewed"]})]}),e.jsx(H,{value:s.performance.rating*20,className:"h-3"})]}),s.performance.goals.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Current Goals"}),e.jsx("div",{className:"space-y-1",children:s.performance.goals.map((a,o)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(pe,{className:"h-3 w-3 text-blue-500"}),e.jsx("span",{children:a})]},o))})]})]})]},s.id))})}),e.jsx(f,{value:"skills",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:r.map(s=>e.jsxs(c,{children:[e.jsx(T,{children:e.jsxs(E,{children:[s.firstName," ",s.lastName]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.skills.map(a=>e.jsx(u,{variant:"secondary",children:a},a))})]}),s.certifications.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Certifications"}),e.jsx("div",{className:"space-y-2",children:s.certifications.map((a,o)=>e.jsxs("div",{className:"p-3 border rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:a.issuer})]}),e.jsx(u,{variant:new Date(a.expiryDate)>new Date?"default":"destructive",children:new Date(a.expiryDate)>new Date?"Valid":"Expired"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Expires: ",new Date(a.expiryDate).toLocaleDateString()]})]},o))})]})]})]},s.id))})})]}),P.length===0&&e.jsx(c,{children:e.jsxs(d,{className:"text-center py-12",children:[e.jsx(w,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Employees Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:m||j!=="all"||p!=="all"?"No employees match your current filters":"Add your first team member to get started"}),!m&&j==="all"&&p==="all"&&e.jsxs(x,{onClick:()=>v(!0),children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Add Employee"]})]})})]})})}export{Te as default};
