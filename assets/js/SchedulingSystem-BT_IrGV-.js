import{c as V,aA as le,r as l,j as e,a6 as E,z as ne,E as re,n,p as R,G as ce,H as de,I as oe,J as o,q as v,t as f,v as N,w as y,x as i,i as h,Q as x,aN as me,aR as he,a3 as xe,a4 as ue,a5 as S,aa as D,k as u,f as je,M as pe,U as ge,ae as ve,T as fe,aL as Ne,V as I,W as M,a8 as ye,ai as z}from"./index-ChsUsUzn.js";import{S as we}from"./square-pen-BhNbn2-E.js";import{C as Ce}from"./cloud-rain-BRWoyNwS.js";import{S as Se}from"./sun-cF8SSMLC.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=V("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=V("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);function Le(){const{toast:F}=le(),[m,b]=l.useState([]),[T,O]=l.useState([]),[Te,H]=l.useState([]),[ke,Ee]=l.useState(null),[P,B]=l.useState(new Date),[j,k]=l.useState("week"),[c,J]=l.useState(""),[p,U]=l.useState("all"),[g,W]=l.useState("all"),[G,w]=l.useState(!1),[_,$]=l.useState("calendar"),[a,r]=l.useState({title:"",projectId:"",type:"work",startDate:"",endDate:"",startTime:"08:00",endTime:"17:00",location:"",assignedCrew:[],assignedEquipment:[],priority:"medium",notes:""});l.useEffect(()=>{Q(),K()},[]),l.useEffect(()=>{X()},[m,c,p,g]);const Q=async()=>{const s=[{id:"1",title:"Site Preparation and Base Work",projectId:"proj-1",projectName:"First Baptist Church Parking Lot",type:"work",startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+1728e5).toISOString().split("T")[0],startTime:"07:00",endTime:"16:00",location:"First Baptist Church, Richmond VA",assignedCrew:["John Smith","Mike Johnson"],assignedEquipment:["Caterpillar AP655F","Ford F-550 Dump Truck"],status:"in_progress",priority:"high",weather:{condition:"sunny",temperature:72,precipitation:0,windSpeed:5},notes:"Weather conditions favorable for asphalt work",dependencies:[],conflicts:[]},{id:"2",title:"Equipment Maintenance - Roller Service",projectId:"maint-1",projectName:"Maintenance",type:"maintenance",startDate:new Date(Date.now()+2592e5).toISOString().split("T")[0],endDate:new Date(Date.now()+2592e5).toISOString().split("T")[0],startTime:"08:00",endTime:"12:00",location:"Service Center",assignedCrew:["Mike Johnson"],assignedEquipment:["Volvo DD140HF"],status:"scheduled",priority:"medium",weather:{condition:"cloudy",temperature:68,precipitation:10,windSpeed:8},notes:"Hydraulic system repair and oil change",conflicts:[{type:"equipment",description:"Roller needed for Grace Methodist project same day",severity:"medium"}]},{id:"3",title:"Sealcoating Application",projectId:"proj-2",projectName:"Grace Methodist Sealcoating",type:"work",startDate:new Date(Date.now()+432e6).toISOString().split("T")[0],endDate:new Date(Date.now()+5184e5).toISOString().split("T")[0],startTime:"06:00",endTime:"14:00",location:"Grace Methodist Church, Richmond VA",assignedCrew:["Sarah Davis","John Smith"],assignedEquipment:["Ford F-550 Dump Truck"],status:"scheduled",priority:"medium",weather:{condition:"rainy",temperature:65,precipitation:80,windSpeed:12},notes:"May need to reschedule due to rain forecast",conflicts:[{type:"weather",description:"High precipitation forecast - not suitable for sealcoating",severity:"high"}]}];b(s)},K=async()=>{const s=[{id:"1",resourceId:"crew-1",resourceName:"John Smith",resourceType:"crew",eventId:"1",startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+1728e5).toISOString().split("T")[0],utilizationHours:72}];H(s)},X=()=>{let s=m;c&&(s=s.filter(t=>t.title.toLowerCase().includes(c.toLowerCase())||t.projectName.toLowerCase().includes(c.toLowerCase())||t.location.toLowerCase().includes(c.toLowerCase()))),p!=="all"&&(s=s.filter(t=>t.status===p)),g!=="all"&&(s=s.filter(t=>t.priority===g)),O(s)},Y=async()=>{const s={id:Date.now().toString(),title:a.title,projectId:a.projectId,projectName:se(a.projectId),type:a.type,startDate:a.startDate,endDate:a.endDate,startTime:a.startTime,endTime:a.endTime,location:a.location,assignedCrew:a.assignedCrew,assignedEquipment:a.assignedEquipment,status:"scheduled",priority:a.priority,weather:{condition:"sunny",temperature:70,precipitation:0,windSpeed:5},notes:a.notes,dependencies:[],conflicts:ee(a)};b(t=>[...t,s]),w(!1),r({title:"",projectId:"",type:"work",startDate:"",endDate:"",startTime:"08:00",endTime:"17:00",location:"",assignedCrew:[],assignedEquipment:[],priority:"medium",notes:""}),F({title:"Event Scheduled",description:`${s.title} has been added to the schedule`})},Z=s=>{b(t=>t.filter(d=>d.id!==s)),F({title:"Event Cancelled",description:"Event has been removed from the schedule"})},ee=s=>{const t=[];return m.forEach(d=>{d.startDate===s.startDate&&d.assignedCrew.some(ie=>s.assignedCrew.includes(ie))&&t?.push({type:"crew",description:"Crew member already assigned to another task",severity:"high"})}),t},se=s=>({"proj-1":"First Baptist Church Parking Lot","proj-2":"Grace Methodist Sealcoating","maint-1":"Maintenance"})[s]||"Unknown Project",A=s=>{switch(s){case"scheduled":return"text-blue-600 bg-blue-100";case"in_progress":return"text-green-600 bg-green-100";case"completed":return"text-gray-600 bg-gray-100";case"cancelled":return"text-red-600 bg-red-100";case"delayed":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},te=s=>{switch(s){case"urgent":return"text-red-600";case"high":return"text-orange-600";case"medium":return"text-blue-600";case"low":return"text-gray-600";default:return"text-gray-600"}},ae=s=>{switch(s){case"sunny":return e.jsx(Se,{className:"h-4 w-4 text-yellow-500"});case"cloudy":return e.jsx(z,{className:"h-4 w-4 text-gray-500"});case"rainy":return e.jsx(Ce,{className:"h-4 w-4 text-blue-500"});case"snow":return e.jsx(be,{className:"h-4 w-4 text-blue-300"});default:return e.jsx(z,{className:"h-4 w-4 text-gray-500"})}},L=s=>{switch(s){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},C=s=>new Date(s).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),q=s=>{const t=new Date(P);j==="week"?t.setDate(t.getDate()+(s==="next"?7:-7)):j==="month"?t.setMonth(t.getMonth()+(s==="next"?1:-1)):t.setDate(t.getDate()+(s==="next"?1:-1)),B(t)};return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Scheduling System"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage project timelines, resources, and optimize schedules"})]})]}),e.jsxs(ne,{open:G,onOpenChange:w,children:[e.jsx(re,{asChild:!0,children:e.jsxs(n,{children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Schedule Event"]})}),e.jsxs(ce,{className:"max-w-2xl",children:[e.jsx(de,{children:e.jsx(oe,{children:"Schedule New Event"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Event Title"}),e.jsx(o,{value:a.title,onChange:s=>r(t=>({...t,title:s.target.value})),placeholder:"Enter event title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Type"}),e.jsxs(v,{value:a.type,onValueChange:s=>r(t=>({...t,type:s})),children:[e.jsx(f,{children:e.jsx(N,{})}),e.jsxs(y,{children:[e.jsx(i,{value:"work",children:"Work"}),e.jsx(i,{value:"maintenance",children:"Maintenance"}),e.jsx(i,{value:"meeting",children:"Meeting"}),e.jsx(i,{value:"delivery",children:"Delivery"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Project"}),e.jsxs(v,{value:a.projectId,onValueChange:s=>r(t=>({...t,projectId:s})),children:[e.jsx(f,{children:e.jsx(N,{placeholder:"Select project"})}),e.jsxs(y,{children:[e.jsx(i,{value:"proj-1",children:"First Baptist Church Parking Lot"}),e.jsx(i,{value:"proj-2",children:"Grace Methodist Sealcoating"}),e.jsx(i,{value:"maint-1",children:"Maintenance"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),e.jsx(o,{type:"date",value:a.startDate,onChange:s=>r(t=>({...t,startDate:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"End Date"}),e.jsx(o,{type:"date",value:a.endDate,onChange:s=>r(t=>({...t,endDate:s.target.value}))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Start Time"}),e.jsx(o,{type:"time",value:a.startTime,onChange:s=>r(t=>({...t,startTime:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"End Time"}),e.jsx(o,{type:"time",value:a.endTime,onChange:s=>r(t=>({...t,endTime:s.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Location"}),e.jsx(o,{value:a.location,onChange:s=>r(t=>({...t,location:s.target.value})),placeholder:"Enter location"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Priority"}),e.jsxs(v,{value:a.priority,onValueChange:s=>r(t=>({...t,priority:s})),children:[e.jsx(f,{children:e.jsx(N,{})}),e.jsxs(y,{children:[e.jsx(i,{value:"low",children:"Low"}),e.jsx(i,{value:"medium",children:"Medium"}),e.jsx(i,{value:"high",children:"High"}),e.jsx(i,{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Notes"}),e.jsx(o,{value:a.notes,onChange:s=>r(t=>({...t,notes:s.target.value})),placeholder:"Additional notes..."})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),e.jsx(n,{onClick:Y,children:"Schedule Event"})]})]})]})]})]}),e.jsx(h,{children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(o,{placeholder:"Search events...",value:c,onChange:s=>J(s.target.value),className:"pl-10"})]})}),e.jsxs(v,{value:p,onValueChange:U,children:[e.jsx(f,{className:"w-[150px]",children:e.jsx(N,{placeholder:"Status"})}),e.jsxs(y,{children:[e.jsx(i,{value:"all",children:"All Status"}),e.jsx(i,{value:"scheduled",children:"Scheduled"}),e.jsx(i,{value:"in_progress",children:"In Progress"}),e.jsx(i,{value:"completed",children:"Completed"}),e.jsx(i,{value:"cancelled",children:"Cancelled"}),e.jsx(i,{value:"delayed",children:"Delayed"})]})]}),e.jsxs(v,{value:g,onValueChange:W,children:[e.jsx(f,{className:"w-[150px]",children:e.jsx(N,{placeholder:"Priority"})}),e.jsxs(y,{children:[e.jsx(i,{value:"all",children:"All Priorities"}),e.jsx(i,{value:"urgent",children:"Urgent"}),e.jsx(i,{value:"high",children:"High"}),e.jsx(i,{value:"medium",children:"Medium"}),e.jsx(i,{value:"low",children:"Low"})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(n,{variant:j==="day"?"default":"outline",size:"sm",onClick:()=>k("day"),children:"Day"}),e.jsx(n,{variant:j==="week"?"default":"outline",size:"sm",onClick:()=>k("week"),children:"Week"}),e.jsx(n,{variant:j==="month"?"default":"outline",size:"sm",onClick:()=>k("month"),children:"Month"})]})]})})}),e.jsx(h,{children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{variant:"outline",onClick:()=>q("prev"),children:e.jsx(De,{className:"h-4 w-4"})}),e.jsx("h2",{className:"text-xl font-semibold",children:P.toLocaleDateString("en-US",{month:"long",year:"numeric",...j==="day"&&{day:"numeric"}})}),e.jsx(n,{variant:"outline",onClick:()=>q("next"),children:e.jsx(he,{className:"h-4 w-4"})})]})})}),e.jsxs(xe,{value:_,onValueChange:$,className:"space-y-6",children:[e.jsxs(ue,{className:"grid w-full grid-cols-4",children:[e.jsx(S,{value:"calendar",children:"Calendar View"}),e.jsx(S,{value:"timeline",children:"Timeline"}),e.jsx(S,{value:"resources",children:"Resource Allocation"}),e.jsx(S,{value:"conflicts",children:"Conflict Resolution"})]}),e.jsx(D,{value:"calendar",className:"space-y-6",children:e.jsx("div",{className:"grid gap-4",children:T.map(s=>e.jsx(h,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.title}),e.jsx(u,{className:A(s.status),children:s.status.replace("_"," ")}),e.jsx(u,{variant:"outline",className:te(s.priority),children:s.priority})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.projectName}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-3 w-3 text-muted-foreground"}),e.jsxs("span",{children:[C(s.startDate)," - ",C(s.endDate)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-3 w-3 text-muted-foreground"}),e.jsxs("span",{children:[s.startTime," - ",s.endTime]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"truncate",children:s.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[ae(s.weather.condition),e.jsxs("span",{children:[s.weather.temperature,"°F"]}),s.weather.precipitation>50&&e.jsxs("span",{className:"text-blue-500",children:["(",s.weather.precipitation,"%)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-3 w-3 text-muted-foreground"}),e.jsxs("span",{children:["Crew: ",s.assignedCrew.join(", ")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"h-3 w-3 text-muted-foreground"}),e.jsxs("span",{children:["Equipment: ",s.assignedEquipment.length]})]})]}),s.conflicts&&s.conflicts.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-medium text-red-600",children:"Conflicts Detected"}),s.conflicts.map((t,d)=>e.jsxs("div",{className:`p-2 rounded-md border text-sm ${L(t.severity)}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-3 w-3"}),e.jsxs("span",{className:"font-medium capitalize",children:[t.type," Conflict"]}),e.jsx(u,{variant:"outline",className:"text-xs",children:t.severity})]}),e.jsx("div",{className:"mt-1 text-xs",children:t.description})]},d))]}),s.notes&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Notes: "}),e.jsx("span",{className:"text-muted-foreground",children:s.notes})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:"outline",size:"sm",children:e.jsx(we,{className:"h-3 w-3"})}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>Z(s.id),children:e.jsx(Ne,{className:"h-3 w-3"})})]})]})})},s.id))})}),e.jsx(D,{value:"timeline",className:"space-y-6",children:e.jsxs(h,{children:[e.jsx(I,{children:e.jsx(M,{children:"Project Timeline"})}),e.jsx(x,{children:e.jsx("div",{className:"space-y-4",children:T.map(s=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-md",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-primary"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:s.title}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[C(s.startDate)," - ",C(s.endDate)]})]}),e.jsx(u,{className:A(s.status),children:s.status.replace("_"," ")})]},s.id))})})]})}),e.jsx(D,{value:"resources",className:"space-y-6",children:e.jsxs(h,{children:[e.jsx(I,{children:e.jsx(M,{children:"Resource Utilization"})}),e.jsx(x,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Crew Allocation"}),e.jsx("div",{className:"space-y-2",children:["John Smith","Mike Johnson","Sarah Davis"].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsx("span",{children:s}),e.jsxs(u,{variant:"outline",children:[m.filter(t=>t.assignedCrew.includes(s)).length," assignments"]})]},s))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Equipment Allocation"}),e.jsx("div",{className:"space-y-2",children:["Caterpillar AP655F","Volvo DD140HF","Ford F-550 Dump Truck"].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsx("span",{className:"truncate",children:s}),e.jsxs(u,{variant:"outline",children:[m.filter(t=>t.assignedEquipment.includes(s)).length," assignments"]})]},s))})]})]})})})]})}),e.jsx(D,{value:"conflicts",className:"space-y-6",children:e.jsxs(h,{children:[e.jsx(I,{children:e.jsx(M,{children:"Schedule Conflicts"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[m.filter(s=>s.conflicts&&s.conflicts.length>0).map(s=>e.jsxs("div",{className:"p-4 border rounded-md",children:[e.jsx("div",{className:"font-medium mb-2",children:s.title}),e.jsx("div",{className:"space-y-2",children:s.conflicts?.map((t,d)=>e.jsxs("div",{className:`p-2 rounded border ${L(t.severity)}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-medium capitalize",children:[t.type," Conflict"]}),e.jsx(u,{variant:"outline",className:"text-xs",children:t.severity})]}),e.jsx("div",{className:"text-sm mt-1",children:t.description}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(n,{size:"sm",variant:"outline",children:"Resolve"}),e.jsx(n,{size:"sm",variant:"outline",children:"Reschedule"})]})]},d))})]},s.id)),m.filter(s=>s.conflicts&&s.conflicts.length>0).length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ye,{className:"h-12 w-12 mx-auto mb-2 text-green-500"}),e.jsx("div",{children:"No conflicts detected"}),e.jsx("div",{className:"text-sm",children:"All scheduled events are properly allocated"})]})]})})]})})]}),T.length===0&&e.jsx(h,{children:e.jsxs(x,{className:"text-center py-12",children:[e.jsx(E,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Events Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:c||p!=="all"||g!=="all"?"No events match your current filters":"Schedule your first event to get started"}),!c&&p==="all"&&g==="all"&&e.jsxs(n,{onClick:()=>w(!0),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Schedule Event"]})]})})]})})}export{Le as default};
