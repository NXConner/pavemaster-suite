import{c as de,u as oe,r as a,j as e,i as l,S as me,d as xe,k as c,f as he,l as C,m as N,n as d,V as o,W as m,e as ue,Q as x,O,Y as w,T as U,a7 as je,R as f,a as ge,A as pe,o as ye,y as Ne,s as we}from"./index-ChsUsUzn.js";import{V as fe}from"./volume-2-BS2pm8kr.js";import{M as ve}from"./maximize-I2sUO1Dt.js";import{S as be}from"./server-Cw-L-UBu.js";import{R as z}from"./radio-Dq5q7HzP.js";import{S as D}from"./sun-cF8SSMLC.js";import{C as M}from"./cloud-rain-BRWoyNwS.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=de("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Ee=()=>{const{user:v}=oe(),[u,L]=a.useState(null),[P,F]=a.useState([]),[t,W]=a.useState(null),[B,b]=a.useState([]),[V,q]=a.useState([]),[A,H]=a.useState(!1),[k,Z]=a.useState(!0),[T,$]=a.useState(!0),[R,j]=a.useState("green"),[S,G]=a.useState(!0),[y,J]=a.useState(5),[E,K]=a.useState(!0),[h,Q]=a.useState({temperature:72,condition:"Clear",wind_speed:8,humidity:45,visibility:10}),g=a.useRef();a.useRef(),a.useEffect(()=>{(async()=>{if(!v)return;const{data:n,error:i}=await we.from("profiles").select("role").eq("id",v.id).single();i||L(n?.role)})()},[v]),a.useEffect(()=>(u&&["super_admin","admin"].includes(u)&&(_(),S&&X()),()=>{g.current&&clearInterval(g.current)}),[u,S,y]);const _=async()=>{await Promise.all([Y(),ee(),se(),ae(),te()])},X=()=>{g.current&&clearInterval(g.current),g.current=setInterval(()=>{_()},y*1e3)},Y=async()=>{F([{id:"mission_001",name:"Operation Alpha",status:"active",progress:67,priority:"high",team_size:12,estimated_completion:"2024-01-15T18:00:00Z",location:"Site A-7",budget_used:145e3,budget_total:2e5},{id:"mission_002",name:"Project Beta Shield",status:"critical",progress:23,priority:"critical",team_size:8,estimated_completion:"2024-01-12T14:30:00Z",location:"Sector 9",budget_used:89e3,budget_total:12e4},{id:"mission_003",name:"Maintenance Gamma",status:"active",progress:89,priority:"medium",team_size:5,estimated_completion:"2024-01-10T16:00:00Z",location:"Base Operations",budget_used:67e3,budget_total:75e3},{id:"mission_004",name:"Security Sweep Delta",status:"completed",progress:100,priority:"medium",team_size:6,estimated_completion:"2024-01-08T12:00:00Z",location:"Perimeter Zone",budget_used:34e3,budget_total:35e3}])},ee=async()=>{const s={cpu_usage:23+Math.random()*10,memory_usage:45+Math.random()*15,network_load:67+Math.random()*20,database_connections:Math.floor(Math.random()*50)+25,api_response_time:150+Math.random()*100,active_users:Math.floor(Math.random()*20)+45,error_rate:Math.random()*2,uptime:"99.7%"};W(s)},se=async()=>{const s=[{id:"threat_001",type:"security",severity:"medium",message:"Unauthorized access attempt detected in Sector 7",location:"Sector 7",timestamp:new Date().toISOString(),acknowledged:!1,escalated:!1},{id:"threat_002",type:"safety",severity:"high",message:"Weather alert: High winds expected in operational area",timestamp:new Date().toISOString(),acknowledged:!0,escalated:!1},{id:"threat_003",type:"operational",severity:"low",message:"Equipment maintenance required for Unit 7",location:"Equipment Bay",timestamp:new Date().toISOString(),acknowledged:!0,escalated:!1}];b(s);const n=s.filter(p=>p.severity==="critical").length,i=s.filter(p=>p.severity==="high").length;n>0?j("red"):i>0?j("orange"):s.filter(p=>p.severity==="medium").length>2?j("yellow"):j("green")},ae=async()=>{q([{id:"comm_001",name:"Primary Radio",type:"radio",status:"online",signal_strength:95,active_connections:12,bandwidth_usage:23},{id:"comm_002",name:"Satellite Uplink",type:"satellite",status:"online",signal_strength:87,active_connections:8,bandwidth_usage:67},{id:"comm_003",name:"Cellular Network",type:"cellular",status:"degraded",signal_strength:42,active_connections:15,bandwidth_usage:89},{id:"comm_004",name:"Internet Backbone",type:"internet",status:"online",signal_strength:98,active_connections:45,bandwidth_usage:34}])},te=async()=>{Q({temperature:70+Math.random()*20,condition:["Clear","Partly Cloudy","Overcast","Rain"][Math.floor(Math.random()*4)],wind_speed:Math.floor(Math.random()*20)+5,humidity:Math.floor(Math.random()*40)+30,visibility:Math.floor(Math.random()*5)+5})},ie=async s=>{b(n=>n.map(i=>i.id===s?{...i,acknowledged:!0}:i)),f({title:"Alert Acknowledged",description:"Threat alert has been marked as acknowledged"})},re=async s=>{b(n=>n.map(i=>i.id===s?{...i,escalated:!0}:i)),f({title:"Alert Escalated",description:"Threat alert has been escalated to command"})},r=(s,n)=>T?n:s,ne=s=>{switch(s){case"green":return"bg-green-500";case"yellow":return"bg-yellow-500";case"orange":return"bg-orange-500";case"red":return"bg-red-500";default:return"bg-gray-500"}},le=s=>{switch(s){case"critical":return e.jsx(c,{variant:"destructive",children:"CRITICAL"});case"high":return e.jsx(c,{variant:"default",children:"HIGH"});case"medium":return e.jsx(c,{variant:"secondary",children:"MEDIUM"});case"low":return e.jsx(c,{variant:"outline",children:"LOW"});default:return e.jsx(c,{variant:"outline",children:"UNKNOWN"})}},ce=s=>{switch(s.toLowerCase()){case"clear":return e.jsx(D,{className:"h-5 w-5 text-yellow-500"});case"partly cloudy":return e.jsx(M,{className:"h-5 w-5 text-gray-500"});case"overcast":return e.jsx(M,{className:"h-5 w-5 text-gray-600"});case"rain":return e.jsx(M,{className:"h-5 w-5 text-blue-500"});default:return e.jsx(D,{className:"h-5 w-5"})}};if(!u||!["super_admin","admin"].includes(u))return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs(l,{className:"p-8 text-center",children:[e.jsx(me,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Mission Control Access Denied"}),e.jsx("p",{className:"text-muted-foreground",children:r("Command authorization required for Mission Control Center","DEFCON clearance required for Command Operations")})]})});const I=e.jsxs("div",{className:"min-h-screen bg-black text-white p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 pb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{className:"h-8 w-8 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold",children:r("Mission Control Center","COMMAND OPERATIONS CENTER")})]}),e.jsx("div",{className:`w-4 h-4 rounded-full ${ne(R)} animate-pulse`}),e.jsxs(c,{variant:"outline",className:"border-white text-white",children:["DEFCON ",R.toUpperCase()]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{children:new Date().toLocaleString()})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{id:"military-jargon",checked:T,onCheckedChange:$}),e.jsx(N,{htmlFor:"military-jargon",className:"text-xs text-white",children:r("Military","Tactical")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>Z(!k),className:"text-white hover:bg-gray-800",children:k?e.jsx(fe,{className:"h-4 w-4"}):e.jsx(Se,{className:"h-4 w-4"})}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>H(!A),className:"text-white hover:bg-gray-800",children:e.jsx(ve,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-4 h-[calc(100vh-120px)]",children:[e.jsxs("div",{className:"col-span-4 space-y-4",children:[e.jsxs(l,{className:"bg-gray-900 border-gray-700 h-1/2",children:[e.jsx(o,{className:"pb-2",children:e.jsxs(m,{className:"text-white flex items-center space-x-2",children:[e.jsx(ue,{className:"h-5 w-5 text-primary"}),e.jsx("span",{children:r("Active Missions","OPERATIONAL STATUS")})]})}),e.jsx(x,{children:e.jsx(O,{className:"h-64",children:e.jsx("div",{className:"space-y-3",children:P.filter(s=>s.status!=="completed").map(s=>e.jsxs("div",{className:"border border-gray-700 rounded p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-white",children:s.name}),le(s.priority)]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Progress:"}),e.jsxs("span",{className:"text-white",children:[s.progress,"%"]})]}),e.jsx(w,{value:s.progress,className:"h-1"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Team:"}),e.jsxs("span",{className:"text-white",children:[s.team_size," personnel"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Location:"}),e.jsx("span",{className:"text-white",children:s.location})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Budget:"}),e.jsxs("span",{className:s.budget_used>s.budget_total*.9?"text-red-400":"text-green-400",children:["$",s.budget_used.toLocaleString()," / $",s.budget_total.toLocaleString()]})]})]})]},s.id))})})})]}),e.jsxs(l,{className:"bg-gray-900 border-gray-700 h-1/2",children:[e.jsx(o,{className:"pb-2",children:e.jsxs(m,{className:"text-white flex items-center space-x-2",children:[e.jsx(be,{className:"h-5 w-5 text-primary"}),e.jsx("span",{children:r("System Status","INFRASTRUCTURE STATUS")})]})}),e.jsx(x,{children:t&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"CPU:"}),e.jsxs("span",{className:"text-white",children:[t.cpu_usage.toFixed(1),"%"]})]}),e.jsx(w,{value:t.cpu_usage,className:"h-1 mt-1"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Memory:"}),e.jsxs("span",{className:"text-white",children:[t.memory_usage.toFixed(1),"%"]})]}),e.jsx(w,{value:t.memory_usage,className:"h-1 mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Network Load:"}),e.jsxs("span",{className:"text-white",children:[t.network_load.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Active Users:"}),e.jsx("span",{className:"text-white",children:t.active_users})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"DB Connections:"}),e.jsx("span",{className:"text-white",children:t.database_connections})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"API Response:"}),e.jsxs("span",{className:"text-white",children:[t.api_response_time.toFixed(0),"ms"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Error Rate:"}),e.jsxs("span",{className:t.error_rate>1?"text-red-400":"text-green-400",children:[t.error_rate.toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Uptime:"}),e.jsx("span",{className:"text-green-400",children:t.uptime})]})]})]})})]})]}),e.jsxs("div",{className:"col-span-4 space-y-4",children:[e.jsxs(l,{className:"bg-gray-900 border-gray-700 h-1/2",children:[e.jsx(o,{className:"pb-2",children:e.jsxs(m,{className:"text-white flex items-center space-x-2",children:[e.jsx(U,{className:"h-5 w-5 text-red-500"}),e.jsx("span",{children:r("Threat Matrix","THREAT ASSESSMENT")})]})}),e.jsx(x,{children:e.jsx(O,{className:"h-64",children:e.jsx("div",{className:"space-y-3",children:B.map(s=>e.jsxs("div",{className:`border rounded p-3 ${s.severity==="critical"?"border-red-500 bg-red-950":s.severity==="high"?"border-orange-500 bg-orange-950":s.severity==="medium"?"border-yellow-500 bg-yellow-950":"border-gray-600 bg-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(c,{variant:s.severity==="critical"?"destructive":s.severity==="high"?"default":s.severity==="medium"?"secondary":"outline",children:s.severity.toUpperCase()}),e.jsxs("div",{className:"flex space-x-1",children:[!s.acknowledged&&e.jsx(d,{size:"sm",variant:"outline",onClick:()=>ie(s.id),className:"h-6 text-xs",children:"ACK"}),!s.escalated&&e.jsx(d,{size:"sm",variant:"destructive",onClick:()=>re(s.id),className:"h-6 text-xs",children:"ESC"})]})]}),e.jsx("p",{className:"text-sm text-white mb-2",children:s.message}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[e.jsx("span",{children:s.type.toUpperCase()}),s.location&&e.jsx("span",{children:s.location}),e.jsx("span",{children:new Date(s.timestamp).toLocaleTimeString()})]})]},s.id))})})})]}),e.jsxs(l,{className:"bg-gray-900 border-gray-700 h-1/2",children:[e.jsx(o,{className:"pb-2",children:e.jsxs(m,{className:"text-white flex items-center space-x-2",children:[e.jsx(z,{className:"h-5 w-5 text-primary"}),e.jsx("span",{children:r("Communications","COMMS STATUS")})]})}),e.jsx(x,{children:e.jsx("div",{className:"space-y-3",children:V.map(s=>e.jsxs("div",{className:"border border-gray-700 rounded p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-white",children:s.name}),e.jsx(c,{variant:s.status==="online"?"default":s.status==="degraded"?"secondary":"destructive",children:s.status.toUpperCase()})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Signal Strength:"}),e.jsxs("span",{className:"text-white",children:[s.signal_strength,"%"]})]}),e.jsx(w,{value:s.signal_strength,className:"h-1"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Connections:"}),e.jsx("span",{className:"text-white",children:s.active_connections})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Bandwidth:"}),e.jsxs("span",{className:"text-white",children:[s.bandwidth_usage,"%"]})]})]})]},s.id))})})]})]}),e.jsxs("div",{className:"col-span-4 space-y-4",children:[E&&e.jsxs(l,{className:"bg-gray-900 border-gray-700 h-1/3",children:[e.jsx(o,{className:"pb-2",children:e.jsxs(m,{className:"text-white flex items-center space-x-2",children:[ce(h.condition),e.jsx("span",{children:r("Weather Conditions","ENVIRONMENTAL STATUS")})]})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Temperature:"}),e.jsxs("span",{className:"text-white",children:[Math.round(h.temperature),"Â°F"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Condition:"}),e.jsx("span",{className:"text-white",children:h.condition})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Wind Speed:"}),e.jsxs("span",{className:"text-white",children:[h.wind_speed," mph"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Humidity:"}),e.jsxs("span",{className:"text-white",children:[h.humidity,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Visibility:"}),e.jsxs("span",{className:"text-white",children:[h.visibility," mi"]})]})]})]})})]}),e.jsxs(l,{className:"bg-gray-900 border-gray-700 h-1/3",children:[e.jsx(o,{className:"pb-2",children:e.jsxs(m,{className:"text-white flex items-center space-x-2",children:[e.jsx(je,{className:"h-5 w-5 text-yellow-500"}),e.jsx("span",{children:r("Quick Actions","RAPID RESPONSE")})]})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(d,{variant:"outline",size:"sm",className:"text-white border-gray-600 hover:bg-gray-800",onClick:()=>f({title:"Emergency Alert Sent"}),children:[e.jsx(U,{className:"h-4 w-4 mr-1"}),"Emergency"]}),e.jsxs(d,{variant:"outline",size:"sm",className:"text-white border-gray-600 hover:bg-gray-800",onClick:()=>f({title:"All Teams Contacted"}),children:[e.jsx(z,{className:"h-4 w-4 mr-1"}),"All Call"]}),e.jsxs(d,{variant:"outline",size:"sm",className:"text-white border-gray-600 hover:bg-gray-800",onClick:()=>j("red"),children:[e.jsx(ge,{className:"h-4 w-4 mr-1"}),"Lockdown"]}),e.jsxs(d,{variant:"outline",size:"sm",className:"text-white border-gray-600 hover:bg-gray-800",onClick:()=>_(),children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})})]}),e.jsxs(l,{className:"bg-gray-900 border-gray-700 h-1/3",children:[e.jsx(o,{className:"pb-2",children:e.jsxs(m,{className:"text-white flex items-center space-x-2",children:[e.jsx(ye,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{children:r("Control Settings","SYSTEM CONFIG")})]})}),e.jsxs(x,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(N,{className:"text-white text-sm",children:"Auto Refresh"}),e.jsx(C,{checked:S,onCheckedChange:G})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(N,{className:"text-white text-sm",children:["Refresh Rate: ",y,"s"]}),e.jsx(Ne,{value:[y],onValueChange:s=>J(s[0]),min:1,max:60,step:1,className:"w-full"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(N,{className:"text-white text-sm",children:"Show Weather"}),e.jsx(C,{checked:E,onCheckedChange:K})]})]})]})]})]})]});return A?e.jsx("div",{className:"fixed inset-0 z-50",children:I}):I};export{Ee as default};
